package com.linzi.daily.template.gp.domain;

import cn.hutool.core.io.FileUtil;
import cn.hutool.json.JSONArray;
import cn.hutool.json.JSONObject;
import cn.hutool.json.JSONUtil;
import com.linzi.daily.tcpapi.GpApiUtils;
import com.linzi.daily.template.gp.domain.TscFunc;
import com.linzi.daily.template.gp.entity.*;
import com.linzi.daily.template.gp.enums.Element;

import java.io.IOException;
import java.util.ArrayList;
import java.util.List;

public class Test {

    public static void main(String[] args) throws IOException {
        String json = "{\"gap\":0,\"templateType\":\"TSC\",\"mode\":\"THERMAL\",\"tear\":true,\"layer\":[{\"id\":\"UAF7JOJJF9DSJCND\",\"x\":8,\"y\":8,\"width\":320,\"height\":160,\"rotation\":0,\"name\":\"图片\",\"type\":\"image\",\"isField\":true,\"fieldName\":\"avatar\",\"value\":\"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\",\"isVisible\":true,\"imgType\":\"LOCAL\"}],\"shift\":0,\"speed\":4,\"width\":50,\"height\":30,\"direction\":0,\"density\":\"NORMAL\",\"paperType\":\"GAP\",\"projectName\":\"默认标签\",\"column\":1,\"columnGap\":0}";
        JSONObject jsonObj = new JSONObject(json);
        JSONArray layerArray = jsonObj.getJSONArray("layer");
        jsonObj.remove("layer");
        Layout layout = JSONUtil.toBean(jsonObj, Layout.class);
        List<BaseElement> layerList = new ArrayList<>();
        for(int i=0;i<layerArray.size();i++){
            JSONObject layerObj = layerArray.getJSONObject(i);
            switch (Element.explain(layerObj.getStr("type"))){
                case TEXT -> layerList.add(JSONUtil.toBean(layerObj, TextElement.class));
                case BARCODE -> layerList.add(JSONUtil.toBean(layerObj, BarCodeElement.class));
                case QRCODE -> layerList.add(JSONUtil.toBean(layerObj, QrCodeElement.class));
                case SHAPE -> layerList.add(JSONUtil.toBean(layerObj, ShapeElement.class));
                case LINE -> layerList.add(JSONUtil.toBean(layerObj, LineElement.class));
                case IMAGE -> layerList.add(JSONUtil.toBean(layerObj, ImageElement.class));
                default -> {}
            }
        }
        layout.setLayer(layerList);
        AbstractLabelTemplate labelTemplate;
        if("TSC".equals(layout.getTemplateType())){
            labelTemplate = new TscFunc(layout);
        }else{
            labelTemplate = new ZplFunc(layout);
        }
        String labelStr = labelTemplate.parseLabelTemplate();
        System.out.println("===十六进制打印数据===");
        FileUtil.del("D:\\hex.txt");
        FileUtil.appendString(labelStr, FileUtil.file("D:\\hex.txt"), "UTF-8");
        GpApiUtils apiUtils = new GpApiUtils();
        apiUtils.sendMsg("00596456348920684","TSPL","3","1",labelStr);
        apiUtils.sendMsg("dmemrzw423t","TSPL","3","1",labelStr);
    }
}
